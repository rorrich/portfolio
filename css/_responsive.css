@media (max-width: 970px) {
    /* Общие правила */
    body {
        overflow-x: hidden;
        max-width: 100vw;
    }
    
    /* Увеличенный шрифт (+20%) и плавное уменьшение (12vw) */
    .main-hero {
        padding-top: var(--space-m);
        padding-bottom: var(--space-m);
        min-height: auto; /* Сбрасываем высоту на весь экран */
        height: auto;
    }
    
    .container {
        padding: 0 var(--grid-margin);
        max-width: 100%;
        width: 100%;
    }
    
    /* Header */
    .header {
        left: 0;
        right: 0;
    }
    
    /* Повышаем специфичность для мобильной версии */
    .header .header__container {
        padding: 0 var(--grid-margin);
        width: 100%;
        box-sizing: border-box;
    }
    
    /* Логотип */
    .header__logo {
        width: fit-content;
        height: fit-content;
        flex-shrink: 0;
        z-index: 1;
    }
    
    .logo-picture {
        width: 44px;
        height: 37px;
    }
    
    .logo-picture svg {
        width: 44px;
        height: 37px;
    }
    
    /* Переключатель цветов - по центру, масштаб как на десктопе, но плавно уменьшается (как в карточках) */
    .header__color-changer {
        /* position: absolute; убрано, теперь работает через grid */
        /* left: 50%; убрано */
        /* transform: translateX(-50%); убрано */
        justify-self: center;
        grid-column: 2;
        /* Размеры подтянутся через em от font-size, заданные в базовом классе */
        /* border наследуется из базового класса */
    }
    
    /* Меню скрыто, показываем бургер */
    .header__menu {
        display: none;
    }
    
    .header__burger {
        display: block;
        width: 44px;
        height: 44px;
        background: none;
        border: none;
        cursor: pointer;
        z-index: 1;
        position: relative;
        z-index: 2001; /* Очень высокий Z-index, выше оверлея */
    }
    
    .header__burger img {
        width: 44px;
        height: 44px;
        filter: brightness(0) saturate(100%) invert(0%);
        display: block;
    }

    /* По умолчанию показываем бургер, скрываем крестик */
    .header__burger .burger-close-icon {
        display: none;
    }

    /* При активном состоянии меняем видимость */
    .header__burger.active .burger-icon {
        display: none;
    }

    /* Повышаем специфичность для переопределения дефолтного display: none */
    .header__burger.active .burger-close-icon {
        display: block;
    }
    
    /* Hero секция */
    .hero__content {
        flex-direction: column;
    }
    
    /* picture-container удален */
    .hero__cat {
        display: none; /* Скрываем кота */
    }
    
    .short-description {
        display: none;
    }
    
    /* Hero Bottom */
    .hero__bottom {
        flex-direction: column;
        gap: var(--space-s);
        margin-top: var(--space-l); /* Фиксированный отступ 40px от контента сверху (вместо auto) */
    }

    .hero__description {
        width: 100%;
    }

    /* Skills Track */
    .skills-track.left {
        /* Плавное уменьшение отступа: 40px (на 970px) -> 20px (на 360px) */
        margin-bottom: var(--space-l);
    }

    /* About (устарело, но для совместимости с HTML классом) */
    .about__text {
        width: 100%;
        margin-left: 0;
    }
    
    .contacts {
        display: none; /* Скрываем контакты на < 970px */
    }
    
    /* Works */
    .works__grid {
        display: flex;
        flex-direction: column;
        gap: var(--space-xl);
    }
    
    .work-card.large .work-card__title,
    .work-card.medium .work-card__title,
    .work-card.small .work-card__title,
    .work-card__title {
        font-size: var(--heading-h4-size);
        line-height: var(--heading-h4-line-height);
    }

    .work-card__details, 
    .work-card__type, 
    
    .work-card.large,
    .work-card.medium,
    .work-card.small {
        width: 100%;
        margin: 0;
    }
    
    .works__title-short-desc {
        display: none;
    }

    /* Убираем лишние горизонтальные отступы в заголовке и сбрасываем высоту */
    .works__title {
        padding-left: 0;
        padding-right: 0;
        margin-left: 0;
        margin-right: 0;
        gap: 0;
        height: auto; /* Высота по контенту */
        min-height: 0;
        /* Плавное уменьшение нижнего отступа: 60px -> 20px */
        margin-bottom: clamp(20px, -3.6px + 6.55vw, 60px);
        justify-content: center;
    }
    
    .works__title-short-desc.left,
    .works__title-short-desc.right {
        padding-left: 0;
        padding-right: 0;
        margin-left: 0;
        margin-right: 0;
    }
    
    /* Карточки работ - на всю ширину */
    /* Повышаем специфичность для переопределения десктопных правил */
    .work-card.large .work-card__picture,
    .work-card.medium .work-card__picture,
    .work-card.small .work-card__picture,
    .work-card__picture {
        width: 100%;
        height: auto;
        margin: 0; /* Без отрицательных отступов, так как padding контейнера 40px */
    }
    
    .work-card__picture img,
    .work-card__picture picture {
        width: 100%;
        height: auto;
        object-fit: cover;
    }
    
    /* Footer */
    .footer {
        height: auto;
        min-height: 0;
        padding-top: var(--space-s);
        padding-bottom: var(--space-s);
    }

    .footer__line {
        margin-bottom: 0; /* Убираем нижний margin */
        margin-top: 0; /* Убираем отрицательный margin, так как кот скрыт */
        min-height: 0; /* Убираем большую высоту, так как кота нет */
        height: auto; /* Высота по содержимому */
    }
    
    .footer__info {
        gap: var(--space-s);
        padding-top: 0; /* Убираем верхний padding */
    }
    
    .cat-fishing {
        display: none; /* Скрываем кота на мобилке */
    }
    
    .footer__description {
        order: 2;
        font-size: var(--body-s-size);
        line-height: 1.4;
    }
    
    .footer__contacts {
        order: 1;
    }

    /* Ссылки в футере всегда показывают иконку, но текст обычный */
    .footer__contacts .menu-item {
        font-variation-settings: normal; /* Сбрасываем жирность */
        font-weight: var(--body-s-font-weight); /* Обычный вес, как везде */
    }

    /* На мобилке стрелки всегда видны - повышаем специфичность */
    .footer__contacts .menu-item .element-anim,
    .footer__contacts .menu-item:hover .element-anim {
        opacity: 1;
        transform: translateX(0);
    }
    
    .footer__line hr {
        width: 100vw;
        /* Уменьшаем вертикальные отступы до 20px, горизонтальные -24px (под padding контейнера) */
        margin: var(--space-s) -24px;
        margin-left: 0;
    }
    
    /* Сброс анимаций и hover эффектов */
    .work-card:hover .work-card__hover-effect {
        opacity: 0;
    }
    
    .work-card:hover .work-card__picture img.zoom-cover {
        transform: none;
    }

    /* --- МОБИЛЬНОЕ МЕНЮ (Оверлей) --- */
    
    /* Оверлей меню */
    /* =========================================
       ДВУХФАЗНАЯ АНИМАЦИЯ МЕНЮ
       Применяется на ВСЕХ страницах (главная, about, works, кейсы)
       ========================================= */
    
    /* Keyframes для нижней полоски фона - быстрое появление снизу */
    @keyframes menu-bottom-appear {
        from {
            opacity: 0;
            transform: scaleY(0);
            transform-origin: bottom;
        }
        to {
            opacity: 1;
            transform: scaleY(1);
            transform-origin: bottom;
        }
    }
    
    /* Keyframes для скрытия нижней полоски */
    @keyframes menu-bottom-hide {
        from {
            opacity: 1;
            transform: scaleY(1);
            transform-origin: bottom;
        }
        to {
            opacity: 0;
            transform: scaleY(0);
            transform-origin: bottom;
        }
    }
    
    /* Keyframes для выезда меню справа */
    @keyframes menu-slide-in {
        from {
            transform: translate3d(100%, 0, 0);
        }
        to {
            transform: translate3d(0, 0, 0);
        }
    }
    
    /* Keyframes для скрытия меню вправо */
    @keyframes menu-slide-out {
        from {
            transform: translate3d(0, 0, 0);
        }
        to {
            transform: translate3d(100%, 0, 0);
        }
    }

    .menu-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100dvh; /* Dynamic Viewport Height для учета адресной строки на iOS */
        background-color: var(--background-color, #F5F1F0); /* Фон меню */
        z-index: 1000;
        
        /* Начальное состояние: меню скрыто справа */
        transform: translate3d(100%, 0, 0);
        visibility: hidden;
        
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        
        /* Анимация не запускается по умолчанию */
        animation: none;
    }
    
    /* Нижняя полоска фона через псевдоэлемент */
    /* Заполняет только нижнюю область, где не доходит меню (Home Indicator + отступ) */
    .menu-overlay::before {
        content: '';
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        /* Высота: Home Indicator + отступ для контактов */
        height: calc(env(safe-area-inset-bottom, 0px) + clamp(60px, 5vw, 80px));
        background-color: var(--background-color, #F5F1F0); /* Динамический цвет при смене темы */
        z-index: 999; /* Под меню (z-index: 1000), но поверх всех остальных элементов */
        
        /* Начальное состояние: скрыта */
        opacity: 0;
        transform: scaleY(0);
        transform-origin: bottom;
        
        /* Анимация не запускается по умолчанию */
        animation: none;
    }

    /* =========================================
       СОСТОЯНИЕ: МЕНЮ ОТКРЫТО (active)
       ========================================= */
    .menu-overlay.active {
        visibility: visible;
        
        /* Фаза 2: Меню выезжает справа с задержкой 0.2s после начала анимации фона */
        /* Задержка должна быть больше длительности анимации полосы (0.15s) */
        animation: menu-slide-in 0.5s cubic-bezier(0.6, 0, 0.37, 1) 0.2s forwards;
    }
    
    .menu-overlay.active::before {
        /* Фаза 1: Нижняя полоска появляется быстро снизу (delay: 0) */
        /* Анимирует ТОЛЬКО opacity и scaleY, НЕ height */
        /* Длительность 0.15s, чтобы меню успело начать выезжать после её появления */
        animation: menu-bottom-appear 0.15s ease-out 0s forwards;
    }
    
    /* =========================================
       СОСТОЯНИЕ: МЕНЮ ЗАКРЫВАЕТСЯ (удаление active)
       ========================================= */
    /* Когда класс active удаляется, меню уезжает вправо */
    .menu-overlay:not(.active) {
        animation: menu-slide-out 0.4s cubic-bezier(0.6, 0, 0.37, 1) forwards;
    }
    
    .menu-overlay:not(.active)::before {
        /* Нижняя полоска быстро скрывается */
        animation: menu-bottom-hide 0.2s ease-out forwards;
    }

    .wrapper__mobile-menu {
        display: flex;
        flex-direction: column;
        min-height: 100dvh; /* Dynamic Viewport Height для учета адресной строки на iOS */
        justify-content: space-between; /* Разносим ссылки и контакты по вертикали */
        /* Плавный отступ сверху: 96px -> 80px */
        padding-top: clamp(80px, 70.56px + 2.62vw, 96px);
        /* Отступ снизу для контактов (нижняя полоска покрывает эту область) */
        padding-bottom: env(safe-area-inset-bottom);
        /* Высота и отступы меняются мгновенно, без анимации */
        transition: none;
        z-index: 1000;
    }

    .mobile-menu__links {
        padding: 0 var(--grid-margin);
        display: flex;
        flex-direction: column;
        gap: var(--space-3xs);
    }

    .mobile-menu__links .menu-overlay__link {
        font-family: 'Onest', sans-serif;
        font-size: var(--heading-h2-size);
        line-height: var(--heading-h2-line-height);
        font-weight: var(--heading-h2-font-weight);
        text-decoration: none;
        color: var(--text-color);
    }

    .menu-overlay__number {
        /* Адаптивный шрифт: 40px на 970px -> 20px на 360px */
        font-size: clamp(20px, 8.2px + 3.28vw, 40px);
        vertical-align: top;
        margin-left: 0;
    }

    .mobile-menu__contacts {
        background-color: var(--text-color, #000000); /* Инверсия фона + фоллбек */
        color: var(--background-color, #F5F1F0); /* Инверсия текста + фоллбек */
        padding: var(--space-l) var(--grid-margin);
        display: flex;
        flex-direction: column;
        gap: var(--space-3xs);
    }

.menu-overlay__contact {
    font-size: var(--body-s-size);
    line-height: 22px;
    font-weight: var(--body-s-font-weight);
    text-decoration: none;
    color: inherit;
}

    /* Unified Hero in Responsive */
    .hero {
        padding: var(--space-l) 0;
        padding-top: calc(var(--space-l) + var(--header-height, 80px)); /* Отступ для мобильной шапки */
    }

    .main-hero {
        padding-top: calc(var(--space-m) + var(--header-height, 80px));
        padding-bottom: var(--space-m);
    }

    .hero__content {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-l);
    }

    .works-list {
        padding: var(--space-l) 0;
    }
    
    /* .works-hero__top removed */
    
    /* Скрываем кота на мобильном */
    .works-hero__image {
        display: none;
    }

    .works-hero__tabs {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-s);
    }
    
    /* Плавное уменьшение шрифтов в табах */
    .works-tab {
        line-height: clamp(20px, 2.94px + 4.41vw, 24px);
    }
    
    
    .works-tabs__checkbox span {
        line-height: clamp(20px, 2.94px + 4.41vw, 24px);
    }

    .works-tabs__buttons {
        flex-wrap: wrap;
    }

    /* Карточка работы */
    .works-item {
        display: flex; /* Явно задаем flex для мобильных */
        flex-direction: column;
        padding: var(--space-l) 0;
        border-bottom: 1px solid var(--outline-color);
        gap: var(--space-s);
    }

    /* Восстанавливаем flex для is-visible на мобильных */
    .works-list .works-item.is-visible {
        display: flex;
    }

    .works-item__image-container {
        width: 100%;
        height: auto;
        aspect-ratio: 755 / 600; /* Сохраняем пропорции */
    }

    .works-item__info {
        padding-left: 0;
        gap: clamp(12px, 2.06px + 2.58vw, 24px);
    }

    /* Плавное уменьшение шрифтов */
    .works-item__title {
        font-size: var(--heading-h3-size);
        line-height: var(--heading-h3-line-height);
    }
    
    .works-item__subtitle {
        line-height: clamp(20px, 0.74px + 4.97vw, 22px);
        font-weight: var(--body-s-font-weight);
    }

    /* Скрываем мету и стрелку */
    .works-item__meta-group,
    .works-item__link {
        display: none;
    }
    
    /* Убираем нижний отступ у заголовка/подзаголовка если нужно */
    .works-item__details {
        display: none; /* Можно скрыть весь контейнер деталей, так как внутри пусто */
    }

    /* About Me Page */
    .about-me {
        /* padding-top: 80px; убран */
    }

    /* .about-me__hero and content replaced by .hero */

    .hero__title {
        font-size: var(--heading-h1-size);
        line-height: var(--heading-h1-line-height);
    }

    .about-me__cat {
        display: none;
    }

    .about-me__text {
        padding: var(--space-l) 0;
    }

    /* Отключаем Grid для контейнеров на странице About */
    .about-me .container-grid {
        display: flex;
        flex-direction: column;
        gap: var(--space-l);
    }

    .about-me__text-content {
        max-width: 100%;
    }

    .about-me__text-content p {
        line-height: 1.3;
        font-weight: var(--body-s-font-weight);
    }

    .about-me__info-text {
        line-height: 1.3;
        font-weight: var(--body-s-font-weight);
    }

    .about-me__info {
        padding: var(--space-l) 0;
    }

    .about-me__info-content {
        display: flex; /* Восстанавливаем flex-контейнер вместо contents */
        flex-direction: column;
        width: 100%;
        gap: var(--space-xl);
    }

    .about-me__info-blocks {
        width: 100%;
        gap: var(--space-m);
    }

    .about-me__info-block {
        gap: 0;
    }

    .about-me__image-block {
        width: 100%;
        gap: clamp(4px, 2.06px + 0.52vw, 12px);
    }

    .about-me__image {
        width: 100%;
        /* height убрана для сохранения пропорций изображения */
        max-width: 600px;
    }
    
    .about-me__image img {
        width: 100%;
        height: auto; /* Высота пересчитывается автоматически от ширины */
        display: block;
        aspect-ratio: auto; /* Сохраняет исходное соотношение сторон изображения */
    }
}
